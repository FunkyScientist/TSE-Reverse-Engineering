package p000;

import android.content.Context;

/* compiled from: PG */
/* loaded from: classes4.dex */
public final class aljd implements _2423 {

    /* renamed from: a */
    public static final bcha f42108a = bcha.m38863h("OdfcBackfill");

    /* renamed from: b */
    public static final beea f42109b;

    /* renamed from: c */
    public final Context f42110c;

    /* renamed from: d */
    public final yer f42111d;

    /* renamed from: e */
    public final yer f42112e;

    /* renamed from: f */
    public final yer f42113f;

    /* renamed from: g */
    private final yer f42114g;

    /* renamed from: h */
    private final yer f42115h;

    /* renamed from: i */
    private final yer f42116i;

    /* renamed from: j */
    private final yer f42117j;

    /* renamed from: k */
    private final yer f42118k;

    /* renamed from: l */
    private final yer f42119l;

    /* renamed from: m */
    private final yer f42120m;

    /* renamed from: n */
    private final yer f42121n;

    static {
        bfil m39983O = beea.f95239a.m39983O();
        bfil m39983O2 = beee.f95268a.m39983O();
        bedd beddVar = bedd.f95143a;
        if (!m39983O2.f99874b.m39989ac()) {
            m39983O2.mo39959x();
        }
        beee beeeVar = (beee) m39983O2.f99874b;
        beddVar.getClass();
        beeeVar.f95273e = beddVar;
        beeeVar.f95270b |= 8;
        if (!m39983O.f99874b.m39989ac()) {
            m39983O.mo39959x();
        }
        beea beeaVar = (beea) m39983O.f99874b;
        beee beeeVar2 = (beee) m39983O2.mo39957u();
        beeeVar2.getClass();
        beeaVar.f95250k = beeeVar2;
        beeaVar.f95241b |= 16384;
        bfil m39983O3 = bedp.f95183a.m39983O();
        bfil m39983O4 = beed.f95263a.m39983O();
        bdsp bdspVar = bdsp.f93706a;
        if (!m39983O4.f99874b.m39989ac()) {
            m39983O4.mo39959x();
        }
        beed beedVar = (beed) m39983O4.f99874b;
        bdspVar.getClass();
        beedVar.f95267d = bdspVar;
        beedVar.f95265b |= 4;
        if (!m39983O3.f99874b.m39989ac()) {
            m39983O3.mo39959x();
        }
        bedp bedpVar = (bedp) m39983O3.f99874b;
        beed beedVar2 = (beed) m39983O4.mo39957u();
        beedVar2.getClass();
        bedpVar.f95202r = beedVar2;
        bedpVar.f95186b |= 65536;
        if (!m39983O.f99874b.m39989ac()) {
            m39983O.mo39959x();
        }
        beea beeaVar2 = (beea) m39983O.f99874b;
        bedp bedpVar2 = (bedp) m39983O3.mo39957u();
        bedpVar2.getClass();
        beeaVar2.f95242c = bedpVar2;
        beeaVar2.f95241b |= 2;
        bfil m39983O5 = bedx.f95227a.m39983O();
        bfil m39983O6 = beit.f95993a.m39983O();
        bfil m39983O7 = bdsv.f93728a.m39983O();
        bdtf bdtfVar = bdtf.f93776a;
        if (!m39983O7.f99874b.m39989ac()) {
            m39983O7.mo39959x();
        }
        bdsv bdsvVar = (bdsv) m39983O7.f99874b;
        bdtfVar.getClass();
        bdsvVar.f93732d = bdtfVar;
        bdsvVar.f93730b |= 16;
        if (!m39983O6.f99874b.m39989ac()) {
            m39983O6.mo39959x();
        }
        beit beitVar = (beit) m39983O6.f99874b;
        bdsv bdsvVar2 = (bdsv) m39983O7.mo39957u();
        bdsvVar2.getClass();
        beitVar.f95996c = bdsvVar2;
        beitVar.f95995b |= 2;
        if (!m39983O5.f99874b.m39989ac()) {
            m39983O5.mo39959x();
        }
        bedx bedxVar = (bedx) m39983O5.f99874b;
        beit beitVar2 = (beit) m39983O6.mo39957u();
        beitVar2.getClass();
        bedxVar.f95230c = beitVar2;
        bedxVar.f95229b |= 2;
        besf besfVar = besf.f97337a;
        if (!m39983O5.f99874b.m39989ac()) {
            m39983O5.mo39959x();
        }
        bedx bedxVar2 = (bedx) m39983O5.f99874b;
        besfVar.getClass();
        bedxVar2.f95231d = besfVar;
        bedxVar2.f95229b |= 4;
        if (!m39983O.f99874b.m39989ac()) {
            m39983O.mo39959x();
        }
        beea beeaVar3 = (beea) m39983O.f99874b;
        bedx bedxVar3 = (bedx) m39983O5.mo39957u();
        bedxVar3.getClass();
        beeaVar3.f95243d = bedxVar3;
        beeaVar3.f95241b |= 4;
        f42109b = (beea) m39983O.mo39957u();
    }

    public aljd(Context context) {
        this.f42110c = context;
        _1311 m951d = _1317.m951d(context);
        this.f42114g = m951d.m943b(_3015.class, null);
        this.f42121n = m951d.m943b(_1598.class, null);
        this.f42115h = m951d.m943b(_2713.class, null);
        this.f42116i = m951d.m943b(_2443.class, null);
        this.f42117j = m951d.m944c(_2424.class);
        this.f42111d = m951d.m943b(_1441.class, null);
        this.f42120m = m951d.m943b(_3151.class, null);
        this.f42118k = m951d.m943b(_2441.class, null);
        this.f42112e = m951d.m943b(_2437.class, null);
        this.f42119l = m951d.m943b(_2438.class, null);
        this.f42113f = m951d.m943b(_2491.class, null);
    }

    /* renamed from: e */
    private final awuq m21105e(int i) {
        return ((_3015) this.f42114g.m73050a()).mo6398e(i).mo32670c("com.google.android.apps.photos.search.pfc.backfill.OnDeviceFaceClusteringBackfillImpl");
    }

    /* renamed from: f */
    private final void m21106f(int i, long j) {
        long mo32669b = m21105e(i).mo32669b("max_media_item_id_required", Long.MAX_VALUE);
        _2441 _2441 = (_2441) this.f42118k.m73050a();
        if (_2441.f3833c.m4277g()) {
            bcgx bcgxVar = (bcgx) _2441.f3831a.m37635c();
            bcgxVar.mo38860ab(_2347.m4063ai(_2441.f3832b, i));
            ((bcgx) bcgxVar.mo37670P(7546)).mo37656B("Backfill progress. Next row: %s. Max row: %s", _1192.m371i(j), _1192.m371i(mo32669b));
        }
        awvb m21110j = m21110j(i);
        m21110j.m32692t("next_media_row", j);
        m21110j.m32688p();
        if (j >= mo32669b) {
            mo4346b(i);
            ((_2441) this.f42118k.m73050a()).m4422b(i);
            ((_2713) this.f42115h.m73050a()).m5363af("FINISHED");
        }
    }

    /* renamed from: g */
    private final void m21107g(int i, int i2, long j) {
        bcgx bcgxVar = (bcgx) f42108a.m37635c();
        bcgxVar.mo38860ab(_2347.m4063ai(this.f42110c, i));
        ((bcgx) bcgxVar.mo37670P(7436)).mo37656B("Batch failed. Size: %s. Starting at: %s", _1192.m371i(i2), _1192.m371i(j));
        ((_2441) this.f42118k.m73050a()).m4421a(i, alks.BATCH_FAILED);
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:74:0x0261  */
    /* JADX WARN: Removed duplicated region for block: B:81:0x0274 A[EDGE_INSN: B:81:0x0274->B:47:0x0274 BREAK  A[LOOP:1: B:57:0x015e->B:78:0x026d], SYNTHETIC] */
    /* JADX WARN: Type inference failed for: r2v11 */
    /* JADX WARN: Type inference failed for: r2v21 */
    /* JADX WARN: Type inference failed for: r2v22 */
    /* JADX WARN: Type inference failed for: r2v6 */
    /* JADX WARN: Type inference failed for: r2v7 */
    /* JADX WARN: Type inference failed for: r2v8, types: [boolean, int] */
    /* renamed from: h */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct code enable 'Show inconsistent code' option in preferences
    */
    private final boolean m21108h(final int r18, p000.aliw r19, int r20) {
        /*
            Method dump skipped, instructions count: 730
            To view this dump change 'Code comments level' option to 'DEBUG'
        */
        throw new UnsupportedOperationException("Method not decompiled: p000.aljd.m21108h(int, aliw, int):boolean");
    }

    /* renamed from: i */
    private final boolean m21109i(int i, aliw aliwVar, int i2) {
        for (int i3 = 0; i3 < 10; i3++) {
            if (!m21108h(i, aliwVar, i2 / 10)) {
                return false;
            }
        }
        return true;
    }

    /* renamed from: j */
    private final awvb m21110j(int i) {
        return ((_3015) this.f42114g.m73050a()).mo6410q(i).mo32670c("com.google.android.apps.photos.search.pfc.backfill.OnDeviceFaceClusteringBackfillImpl");
    }

    @Override // p000._2423
    /* renamed from: a */
    public final void mo4345a(int i, aliw aliwVar) {
        _2441 _2441 = (_2441) this.f42118k.m73050a();
        if (_2441.f3833c.m4277g()) {
            bcgx bcgxVar = (bcgx) _2441.f3831a.m37635c();
            bcgxVar.mo38860ab(_2347.m4063ai(_2441.f3832b, i));
            ((bcgx) bcgxVar.mo37670P(7547)).mo37694p("ODFC backfill started.");
        }
        ayrf.m34761b();
        ((_2713) this.f42115h.m73050a()).m5363af("STARTED");
        if (!((_3015) this.f42114g.m73050a()).mo6409p(i)) {
            ((_2441) this.f42118k.m73050a()).m4421a(i, alks.INVALID_ACCOUNT);
            ((_2713) this.f42115h.m73050a()).m5363af("INVALID_ACCOUNT");
            return;
        }
        if (!m21111d(i)) {
            if (m21105e(i).mo32669b("max_media_item_id_required", -1L) < 0) {
                axaf axafVar = new axaf(awzw.m32879a(this.f42110c, i));
                axafVar.f72433a = "remote_media";
                axafVar.f72435c = new String[]{"MAX (_id)"};
                long m32900a = axafVar.m32900a();
                awvb m21110j = m21110j(i);
                m21110j.m32692t("max_media_item_id_required", m32900a);
                m21110j.m32688p();
            }
            do {
            } while (m21108h(i, aliwVar, 100));
            return;
        }
        ((_2441) this.f42118k.m73050a()).m4421a(i, alks.ALREADY_RAN);
        ((_2713) this.f42115h.m73050a()).m5363af("ALREADY_RAN");
    }

    @Override // p000._2423
    /* renamed from: b */
    public final void mo4346b(int i) {
        awvb m21110j = m21110j(i);
        m21110j.m32689q("is_backfill_complete", true);
        m21110j.m32688p();
    }

    @Override // p000._2423
    /* renamed from: c */
    public final void mo4347c(int i) {
        if (m21105e(i).mo32675h("INCOMPLETE_SYNC_MASK")) {
            ((_2713) this.f42115h.m73050a()).m5402br(false);
            return;
        }
        awvb m21110j = m21110j(i);
        m21110j.m32695w("is_backfill_complete");
        m21110j.m32688p();
        awvb m21110j2 = m21110j(i);
        m21110j2.m32695w("max_media_item_id_required");
        m21110j2.m32688p();
        awvb m21110j3 = m21110j(i);
        m21110j3.m32695w("next_media_row");
        m21110j3.m32688p();
        awvb m21110j4 = m21110j(i);
        m21110j4.m32689q("INCOMPLETE_SYNC_MASK", true);
        m21110j4.m32688p();
        ((_2713) this.f42115h.m73050a()).m5402br(true);
    }

    /* renamed from: d */
    public final boolean m21111d(int i) {
        return m21105e(i).mo32675h("is_backfill_complete");
    }
}
